---
date: '2023-11-01'
title: '생성자와 static 변수'
categories: ['C샵']
summary: '1. 생성자
생성자 함수는 메모리가 생성된 직후 가장 먼저 호출되는 함수이다.
모든 class는 메모리가 생성될 경우 자신과 이름이 똑같은 함수를 가장 먼저 호출한다.'
thumbnail: './생성자.png'
---

# 생성자와 static 변수

> ## 1. 생성자
>
> 생성자 함수는 메모리가 생성된 직후 **가장 먼저** 호출되는 함수이다.
> 모든 class는 메모리가 생성될 경우 **자신과 이름이 똑같은** 함수를 가장 먼저 호출한다.

### [디폴트 생성자]

만약 개발자가 생성자를 만들지 않았다면.
컴파일러는 텅 빈 디폴트 생성자를 자동으로 만든다. (눈에는 보이지 않는다)

### [생성자의 용도]

모든 직원은 회사에 출근하면 출근체크부터 해야 한다.
마찬가지로 함수를 호출시키자마자 처음 1회 해야 되는 일이 필요하다면 (예: 값의 초기화)
그것을 생성자 함수에 넣어준다.

```csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Creator
{
    public class 출근
    {
        int 업무량;

        //생성자 함수 : 메모리가 할당되면 가장 먼저 1회 실행된다.
        public 출근()
        {
            업무량 = 100;
            Console.WriteLine("출근 완료!");
        }

        public void 업무중()
        {
            업무량 -= 10;
            Console.WriteLine("남은 엄무량: {0}", 업무량);
        }
    }

    internal class Program
    {
        static void Main(string[] args)
        {
            출근 김대리 = new 출근();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
            김대리.업무중();
        }
    }
```

### 실행 결과

> 출근 완료!
> 남은 엄무량: 90
> 남은 엄무량: 80
> 남은 엄무량: 70
> 남은 엄무량: 60
> 남은 엄무량: 50
> 남은 엄무량: 40
> 남은 엄무량: 30
> 남은 엄무량: 20
> 남은 엄무량: 10

생성자는 객체를 만들어 줬을때 한 번만 실행된다.
엄무중 함수를 여러번 호출해도 생성자는 실행되지 않는다.

---

> ## 2. static 변수
1. 일반 변수는 함수호출이 끝나면 **소멸**된다.
2. 그러나 **static**으로 선언된 변수는 함수호출이 끝나도 **계속 메모리에 남아 있다.**

```csharp
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace @Static
{
    class 출근
    {
        static int 업무량 = 0;
        int 내월급 = 0;

        //생성자 함수 (출근할때마다 자동으로 호출)
        public 출근()
        {
            Console.WriteLine("출근 완료!!");
            업무량++;
            내월급++;
        }

        //일반 함수
        public void 업무시작()
        {
            Console.WriteLine("업무량: {0}", 업무량);
            Console.WriteLine("내월급: {0} \n\n", 내월급);
        }
    }
    internal class 회사
    {
        static void Main(string[] args)
        {
            int 연차 = 10;
            for(int i = 0; i <= 연차; i++)
            {
                Console.WriteLine("----- {0}년차 직장인 김대리의 하루 -----", i);
                출근 김대리 = new 출근();
                김대리.업무시작();
            }
        }
    }
}
```

### 실행 결과

----- 0년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 1
내월급: 1

----- 1년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 2
내월급: 1

----- 2년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 3
내월급: 1

----- 3년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 4
내월급: 1

----- 4년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 5
내월급: 1

----- 5년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 6
내월급: 1

----- 6년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 7
내월급: 1

----- 7년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 8
내월급: 1

----- 8년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 9
내월급: 1

----- 9년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 10
내월급: 1

----- 10년차 직장인 김대리의 하루 -----
출근 완료!!
업무량: 11
내월급: 1

> 함수가 호출될 떄 마다 업무량을 1씩 증가 하였지만,
> 월급을 늘지 않았다...

---
